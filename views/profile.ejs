<!DOCTYPE html>
<html lang="en">

<%- include _head.ejs %>

<body>

<!-- Navigation Bar -->

<%- include _nav.ejs %>

<!-- User Info -->

	<div class="container">
		<div class="row">
			<!-- user info -->
			<div class="col-md-3">
				<img src="http://i.imgur.com/7YX8zTs.png" class="img-circle" id="profile-picture" alt="profile picture">
				<br>
				<h3>Brendan Bohn</h3>
				<h4>brendanbohn</h4>
				<p>Phasellus dignissim nibh et purus blandit facilisis. Aliquam vehicula pretium odio a venenatis. Nam rutrum lacus non ullamcorper hendrerit. Phasellus a tortor a sapien tincidunt egestas vitae faucibus metus. Vestibulum eu tempor magna. Duis cursus volutpat ligula id posuere. Vestibulum condimentum convallis lacus. Sed at lacus ac dui laoreet auctor.</p>
				<p id="user-city">San Francisco, CA</p>
			</div>
			<!-- profile stream -->
			<div class="col-md-7 col-md-offset-1 text-center" id="profile-stream">
				<!-- log a trip -->
				<div class="row">
					<h2>Log a voyage</h2>
					<div class="col-md-12">
						<input id="searchTextField" type="text" class="form-control" placeholder="Location" name="location" required>
					</div>

					<!-- log a trip form -->

					<form id="trip-form">
						<!-- hidden -->
						<input type="text" class="hidden" id="trip-user" name="user" value="<%= user._id %>">
						<input type="text" class="hidden" id="trip-location" placeholder="City, State, Country" name="location" value="1">
						<input type="hidden" id="trip-lat" name="latitude" value="1">
						<input type="hidden" id="trip-lng" name="longitude" value="1">
						<!-- <input type="hidden" id="trip-lat-lng" name="latLng" value="1"> -->

						<!-- visible -->

							<!-- first column of form -->

						<div class="col-md-6">
							<!-- date -->
							<div class="form-group">
							  <label for="inputDate">Date</label>
							  <input type="text" class="form-control" id="inputDate" placeholder="Date" name="date">
							</div>
							<!-- image -->
							<div class="form-group">
							  <label for="inputImageUrl">Image</label>
							  <input type="text" class="form-control" id="inputImageUrl" placeholder="Paste a URL to your photo" name="img">
							</div>
						</div>

							<!-- second column of form -->

						<div class="col-md-6">
							<!-- description -->
							<div class="form-group">
							  <label for="inputDescription">Description</label>
							  <textarea type="text" class="form-control" id="inputDescription" placeholder="Share your thoughts and experiences" name="description"></textarea> 
							</div>
							<!-- form submit button -->
							<div class="text-right">
							  <button type="submit" class="btn btn-default">Submit</button>
							</div>
						</div>
					</form>
				</div>

<!-- Voyages -->

				<div id="tripStream">
					<% if (posts.length !== 0 ) {%>
					<% for (var i=posts.length-1; i>=0; i--) {%>
					<div class="trip-post" id="<%=posts._id%>">
					<div class='media text-left'> <div class='media-left'> <img class='media-object' src='<%=posts[i].img%>' alt='...'></div><div class='media-body'><h3 class='media-heading'><%=posts[i].location%></h3><p><%=posts[i].description%></p><p><%=posts[i].date%><button data-id="<%= posts[i]._id %>" type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></p></div></div>
					</div>
					<%}%>
					<%} else {%>
					<p class="trip-post"> No voyages have been logged yet. </p>
					<%}%>
				</div>
			</div>
		</div>
	</div>

<!-- Temporary fix to fix an error message for not having a map on my profile page -->

	<div class="modal">
		<div id="map">
		</div>
	</div>

</body>
</html>